<script>
	import { Label } from '$lib/components/ui/label/index.js';
	import { enhance } from '$app/forms';
	import { Button } from '$lib/components/ui/button/index.js';
	import * as Card from '$lib/components/ui/card/index.js';
	import { Input } from '$lib/components/ui/input/index.js';

	let { form } = $props();
</script>

<div
	class="relative container grid h-screen max-w-none flex-col items-center justify-center bg-[url('/login/authbackground.png')] bg-cover lg:grid-cols-2 lg:bg-none lg:px-0"
>
	<div class="bg-muted relative hidden h-full flex-col p-10 text-white lg:flex dark:border-r">
		<div
			class="absolute inset-0 bg-cover"
			style="
				background-image: url('/login/authbackground.png');"
		></div>
		<div class="relative z-20 flex items-start text-lg font-medium text-black">
			<svg class="h-14" viewBox="0 0 1001 395" xmlns="http://www.w3.org/2000/svg">
				<path
					d="M359.391 141.462V254.396H439.267V233.517H384.224V141.462H359.391Z"
					fill="#1A0000"
				/>
				<path
					d="M449.829 197.77C450.145 192.498 451.463 188.122 453.783 184.642C456.103 181.163 459.056 178.368 462.641 176.259C466.226 174.15 470.233 172.674 474.662 171.83C479.196 170.881 483.73 170.407 488.265 170.407C492.377 170.407 496.542 170.723 500.76 171.356C504.978 171.883 508.827 172.99 512.307 174.678C515.786 176.365 518.633 178.737 520.848 181.795C523.062 184.748 524.169 188.702 524.169 193.658V236.206C524.169 239.897 524.38 243.429 524.802 246.803C525.224 250.178 525.962 252.709 527.016 254.396H504.24C503.818 253.13 503.449 251.865 503.133 250.6C502.922 249.229 502.764 247.858 502.658 246.487C499.073 250.178 494.855 252.761 490.004 254.238C485.154 255.714 480.198 256.452 475.136 256.452C471.235 256.452 467.597 255.977 464.223 255.028C460.848 254.079 457.896 252.603 455.365 250.6C452.834 248.596 450.831 246.065 449.355 243.007C447.984 239.949 447.298 236.311 447.298 232.094C447.298 227.454 448.089 223.658 449.671 220.705C451.358 217.647 453.467 215.222 455.998 213.429C458.634 211.637 461.586 210.319 464.855 209.475C468.23 208.526 471.604 207.788 474.978 207.261C478.353 206.733 481.674 206.312 484.943 205.995C488.212 205.679 491.112 205.205 493.642 204.572C496.173 203.939 498.177 203.043 499.653 201.883C501.129 200.618 501.815 198.825 501.709 196.505C501.709 194.08 501.287 192.182 500.444 190.811C499.706 189.335 498.651 188.227 497.28 187.489C496.015 186.646 494.486 186.119 492.693 185.908C491.006 185.591 489.161 185.433 487.157 185.433C482.729 185.433 479.249 186.382 476.718 188.28C474.187 190.178 472.711 193.342 472.289 197.77H449.829ZM501.709 214.378C500.76 215.222 499.547 215.907 498.071 216.435C496.7 216.856 495.171 217.225 493.484 217.542C491.903 217.858 490.215 218.122 488.423 218.333C486.63 218.544 484.838 218.807 483.045 219.124C481.358 219.44 479.671 219.862 477.983 220.389C476.402 220.916 474.978 221.654 473.713 222.603C472.553 223.447 471.604 224.554 470.866 225.925C470.128 227.296 469.759 229.036 469.759 231.145C469.759 233.148 470.128 234.835 470.866 236.206C471.604 237.577 472.606 238.684 473.871 239.528C475.136 240.266 476.613 240.793 478.3 241.109C479.987 241.426 481.727 241.584 483.519 241.584C487.948 241.584 491.375 240.846 493.801 239.369C496.226 237.893 498.018 236.153 499.178 234.15C500.338 232.041 501.024 229.932 501.235 227.823C501.551 225.714 501.709 224.027 501.709 222.761V214.378Z"
					fill="#1A0000"
				/>
				<path
					d="M541.603 172.621V254.396H564.063V211.531C564.063 203.201 565.434 197.243 568.176 193.658C570.917 189.967 575.346 188.122 581.462 188.122C586.84 188.122 590.583 189.809 592.692 193.184C594.801 196.452 595.855 201.461 595.855 208.21V254.396H618.316V204.097C618.316 199.036 617.841 194.449 616.892 190.336C616.049 186.119 614.52 182.586 612.305 179.739C610.091 176.786 607.033 174.519 603.131 172.938C599.335 171.25 594.432 170.407 588.421 170.407C583.676 170.407 579.037 171.514 574.502 173.728C569.968 175.837 566.277 179.264 563.43 184.01H562.956V172.621H541.603Z"
					fill="#1A0000"
				/>
				<path
					d="M663.833 172.621V148.105H641.373V172.621H627.77V187.648H641.373V235.89C641.373 240.002 642.058 243.324 643.429 245.854C644.8 248.385 646.645 250.336 648.965 251.707C651.39 253.078 654.132 253.974 657.19 254.396C660.353 254.923 663.675 255.187 667.155 255.187C669.369 255.187 671.636 255.134 673.956 255.028C676.276 254.923 678.385 254.712 680.283 254.396V236.997C679.228 237.208 678.121 237.366 676.961 237.471C675.801 237.577 674.589 237.63 673.323 237.63C669.527 237.63 666.997 236.997 665.731 235.732C664.466 234.466 663.833 231.935 663.833 228.139V187.648H680.283V172.621H663.833Z"
					fill="#1A0000"
				/>
				<path
					d="M746.013 204.73H709.475C709.581 203.148 709.897 201.356 710.424 199.352C711.057 197.349 712.059 195.451 713.43 193.658C714.906 191.865 716.804 190.389 719.124 189.229C721.549 187.964 724.554 187.331 728.14 187.331C733.623 187.331 737.682 188.807 740.319 191.76C743.06 194.712 744.958 199.036 746.013 204.73ZM709.475 218.965H768.473C768.895 212.639 768.368 206.575 766.891 200.776C765.415 194.976 762.99 189.809 759.616 185.275C756.347 180.741 752.129 177.156 746.962 174.519C741.795 171.778 735.732 170.407 728.772 170.407C722.551 170.407 716.857 171.514 711.69 173.728C706.628 175.943 702.252 179.001 698.562 182.902C694.871 186.699 692.024 191.233 690.02 196.505C688.017 201.777 687.015 207.472 687.015 213.588C687.015 219.914 687.964 225.714 689.862 230.986C691.866 236.259 694.66 240.793 698.245 244.589C701.83 248.385 706.206 251.338 711.373 253.447C716.54 255.45 722.34 256.452 728.772 256.452C738.052 256.452 745.96 254.343 752.498 250.125C759.036 245.907 763.886 238.895 767.05 229.088H747.278C746.54 231.619 744.537 234.044 741.268 236.364C737.999 238.579 734.097 239.686 729.563 239.686C723.236 239.686 718.386 238.051 715.011 234.782C711.637 231.514 709.792 226.241 709.475 218.965Z"
					fill="#1A0000"
				/>
				<path
					d="M781.794 172.621V254.396H804.254V217.542C804.254 213.851 804.623 210.424 805.362 207.261C806.1 204.097 807.312 201.356 808.999 199.036C810.792 196.611 813.112 194.713 815.959 193.342C818.806 191.971 822.286 191.285 826.398 191.285C827.769 191.285 829.193 191.391 830.669 191.602C832.145 191.707 833.411 191.865 834.465 192.076V171.198C832.672 170.671 831.038 170.407 829.562 170.407C826.715 170.407 823.973 170.829 821.337 171.672C818.701 172.516 816.223 173.728 813.903 175.31C811.583 176.786 809.527 178.632 807.734 180.846C805.941 182.955 804.518 185.275 803.463 187.806H803.147V172.621H781.794Z"
					fill="#1A0000"
				/>
				<path
					d="M846.051 172.621V254.396H868.511V211.531C868.511 203.201 869.882 197.243 872.624 193.658C875.365 189.967 879.794 188.122 885.91 188.122C891.288 188.122 895.031 189.809 897.14 193.184C899.249 196.452 900.304 201.461 900.304 208.21V254.396H922.764V204.097C922.764 199.036 922.289 194.449 921.34 190.336C920.497 186.119 918.968 182.586 916.753 179.739C914.539 176.786 911.481 174.519 907.58 172.938C903.783 171.25 898.88 170.407 892.87 170.407C888.124 170.407 883.485 171.514 878.951 173.728C874.416 175.837 870.726 179.264 867.879 184.01H867.404V172.621H846.051Z"
					fill="#1A0000"
				/>
				<path
					fill-rule="evenodd"
					clip-rule="evenodd"
					d="M280.654 96.7147L280.654 96.7089C280.689 86.8339 269.933 80.6983 261.45 85.7566L247.765 93.917L92.5688 182.994C84.2889 187.746 81.4416 198.319 86.215 206.587L142.255 303.651C145.338 308.99 151.034 312.279 157.199 312.279H263.399C272.929 312.279 280.654 304.553 280.654 295.024L280.654 96.7147ZM201.612 191.254H119.762L242.537 120.37L201.612 191.254ZM259.867 271.37L219.614 201.65L259.867 131.929V271.37ZM151.489 278.07L113.367 212.042H189.611L151.489 278.07ZM247.481 291.491H167.744L207.612 222.437L247.481 291.491Z"
					fill="url(#paint1_radial)"
				/>
				<defs>
					<radialGradient
						id="paint1_radial"
						cx="0"
						cy="0"
						r="1"
						gradientUnits="userSpaceOnUse"
						gradientTransform="translate(230.445 124.346) rotate(110.167) scale(184.193 120.719)"
					>
						<stop stop-color="#FF5C00" />
						<stop offset="0.802944" stop-color="#FF406E" />
					</radialGradient>
				</defs>
			</svg>
		</div>
		<div class="relative z-20 mt-auto">
			<blockquote class="space-y-2">
				<p class="text-lg">
					&ldquo; The next generation of practice management software. I can't recommend it enough
					&rdquo;
				</p>
				<footer class="text-sm">Jonathan Foreman, Observatory Opticians</footer>
			</blockquote>
		</div>
	</div>

	<div class=" flex h-full flex-col justify-start lg:justify-center lg:p-8">
		<div class="mx-auto lg:hidden">
			<svg
				class="h-60"
				preserveAspectRatio="xMidYMid meet"
				viewBox="0 0 1000 1001"
				xmlns="http://www.w3.org/2000/svg"
			>
				<defs>
					<radialGradient
						id="paint0_radial"
						cx="0"
						cy="0"
						r="1"
						gradientUnits="userSpaceOnUse"
						gradientTransform="translate(571.665 294.347) rotate(110.167) scale(474.925 311.264)"
					>
						<stop stop-color="#FF5C00" />
						<stop offset="0.802944" stop-color="#FF406E" />
					</radialGradient>
				</defs>
				<path
					fill="url(#paint0_radial)"
					fill-rule="evenodd"
					clip-rule="evenodd"
					d="M701.125 223.103L701.125 223.087C701.215 197.626 673.482 181.806 651.609 194.848L616.322 215.889L216.164 445.566C194.815 457.819 187.474 485.08 199.782 506.397L344.276 756.67C352.224 770.435 366.911 778.915 382.806 778.915H656.634C681.206 778.915 701.125 758.996 701.125 734.424L701.125 223.103ZM497.323 466.865H286.281L602.845 284.096L497.323 466.865ZM647.527 673.436L543.738 493.668L647.527 313.901V673.436ZM368.085 690.712L269.792 520.463H466.379L368.085 690.712ZM615.591 725.317H409.996L512.793 547.266L615.591 725.317Z"
				/>
			</svg>
		</div>

		<div
			class="border-muted-foreground relative z-20 flex items-start rounded-2xl bg-gray-200/30 p-10 text-lg font-medium text-black backdrop-blur-md lg:border-none lg:bg-transparent"
		>
			<div class="mx-auto flex w-[350px] flex-col justify-center space-y-6">
				<div class="mb-2 flex flex-col space-y-2 text-center">
					<h1 class="text-2xl font-semibold tracking-tight">Login / Register</h1>
					<p class="lg:text-muted-foreground text-sm text-gray-800 antialiased">
						Enter your username below to get started
					</p>
				</div>

				<div class="grid w-full items-center gap-4">
					<form method="post" action="?/login" use:enhance>
						<div class="grid w-full items-center gap-4">
							<div class="flex flex-col space-y-1.5">
								<label
									class="lg:text-muted-foreground text-sm text-gray-800 antialiased"
									for="username">Username</label
								>
								<Input class id="username" name="username" type="text" />
							</div>
							<div class="flex flex-col space-y-1.5">
								<label
									class="lg:text-muted-foreground text-sm text-gray-800 antialiased"
									for="password">Password</label
								>
								<Input class id="password" name="password" type="password" />
							</div>
							<div class="flex justify-between">
								<Button class type="submit">Login</Button>
								<button formaction="?/register">Register</button>
							</div>
						</div>
					</form>
				</div>

				<p style="color: red">{form?.message ?? ''}</p>

				<p class="lg:text-muted-foreground px-8 text-center text-sm text-gray-800 antialiased">
					By clicking continue, you agree to our
					<a href="/terms" class="hover:text-primary underline underline-offset-4">
						Terms of Service
					</a>
					and
					<a href="/privacy" class="hover:text-primary underline underline-offset-4">
						Privacy Policy
					</a>
					.
				</p>
			</div>
		</div>
	</div>
</div>
